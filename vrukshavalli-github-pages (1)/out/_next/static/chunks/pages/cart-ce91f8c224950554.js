(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{2443:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return t(3691)}])},2709:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var s=t(4246),a=t(7378),n=t(9894),l=t.n(n),i=t(6677),c=t(4701),d=t(5061),o=t(5212),m=t(8501),x=t(6259),h=t(6360);let u=(0,h.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=(0,h.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),y=(0,h.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g=(0,h.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function j(){let e=(0,i.useRouter)(),{user:r,setUser:t,cart:n}=(0,a.useContext)(c.AppContext),[h,j]=(0,a.useState)(!1),[f,N]=(0,a.useState)(!1),b=n.reduce((e,r)=>e+r.quantity,0),v=[{name:"Home",href:"/",current:"/"===e.pathname},{name:"Products",href:"/products",current:"/products"===e.pathname},{name:"Plant Doctor",href:"/plant-doctor",current:"/plant-doctor"===e.pathname},{name:"Track Order",href:"/track-order",current:"/track-order"===e.pathname}];return(0,s.jsxs)("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center space-x-2 group",children:[(0,s.jsx)(d.Z,{className:"h-8 w-8 text-primary-600 group-hover:text-primary-700 transition-colors"}),(0,s.jsx)("span",{className:"text-xl font-bold text-gray-900 group-hover:text-primary-700 transition-colors",children:"Vrukshavalli"})]}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:v.map(e=>(0,s.jsx)(l(),{href:e.href,className:"px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(e.current?"bg-primary-100 text-primary-700":"text-gray-700 hover:text-primary-700 hover:bg-primary-50"),children:e.name},e.name))}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(l(),{href:"/cart",className:"relative p-2 text-gray-700 hover:text-primary-700 transition-colors",children:[(0,s.jsx)(o.Z,{className:"h-6 w-6"}),b>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:b})]}),r?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>N(!f),className:"flex items-center space-x-2 p-2 rounded-md text-gray-700 hover:text-primary-700 hover:bg-primary-50 transition-all duration-200",children:[(0,s.jsx)(m.Z,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"hidden sm:block text-sm font-medium",children:r.name})]}),f&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:[(0,s.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:r.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:r.email})]}),(0,s.jsxs)(l(),{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-700",children:[(0,s.jsx)(m.Z,{className:"inline h-4 w-4 mr-2"}),"Profile"]}),(0,s.jsxs)(l(),{href:"/orders",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-700",children:[(0,s.jsx)(x.Z,{className:"inline h-4 w-4 mr-2"}),"My Orders"]}),"admin"===r.role&&(0,s.jsxs)(l(),{href:"/admin",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-700",children:[(0,s.jsx)(u,{className:"inline h-4 w-4 mr-2"}),"Admin Panel"]}),(0,s.jsxs)("button",{onClick:()=>{t(null),N(!1),localStorage.removeItem("vrukshavalli_user"),e.push("/")},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-50 hover:text-red-700",children:[(0,s.jsx)(p,{className:"inline h-4 w-4 mr-2"}),"Logout"]})]})]}):(0,s.jsx)(l(),{href:"/auth",className:"btn-primary text-sm",children:"Login"}),(0,s.jsx)("button",{onClick:()=>j(!h),className:"md:hidden p-2 rounded-md text-gray-700 hover:text-primary-700 hover:bg-primary-50 transition-all duration-200",children:h?(0,s.jsx)(y,{className:"h-6 w-6"}):(0,s.jsx)(g,{className:"h-6 w-6"})})]})]}),h&&(0,s.jsx)("div",{className:"md:hidden border-t border-gray-200 py-4",children:(0,s.jsx)("div",{className:"space-y-1",children:v.map(e=>(0,s.jsx)(l(),{href:e.href,className:"block px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(e.current?"bg-primary-100 text-primary-700":"text-gray-700 hover:text-primary-700 hover:bg-primary-50"),onClick:()=>j(!1),children:e.name},e.name))})})]}),f&&(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>N(!1)})]})}},3691:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var s=t(4246),a=t(7378),n=t(8038),l=t.n(n),i=t(9894),c=t.n(i),d=t(6677),o=t(4701),m=t(2709),x=t(5212),h=t(6360);let u=(0,h.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),p=(0,h.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var y=t(1315),g=t(3556);let j=(0,h.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var f=t(2778),N=t(6681);function b(){let e=(0,d.useRouter)(),{user:r,cart:t,setCart:n,orders:i,setOrders:h}=(0,a.useContext)(o.AppContext),[b,v]=(0,a.useState)(!1),[k,w]=(0,a.useState)(""),[C,Z]=(0,a.useState)(0),S=(e,r)=>{if(0===r){M(e);return}n(t=>t.map(t=>t.id===e?{...t,quantity:r}:t))},M=e=>{n(r=>r.filter(r=>r.id!==e))},O=t.reduce((e,r)=>e+r.price*r.quantity,0),P=C/100*O,L=O>500?0:50,D=O-P+L,V=async()=>{if(!r){e.push("/auth");return}v(!0);let s={id:"order_".concat(Date.now()),orderNumber:"VRK".concat(Date.now()),userId:r.id,items:t,subtotal:O,discount:P,deliveryFee:L,total:D,customerInfo:{name:r.name,email:r.email,address:"Ratnagiri, Maharashtra"},paymentMethod:"Cash on Delivery",status:"Placed",createdAt:new Date().toISOString(),estimatedDelivery:new Date(Date.now()+6048e5).toISOString(),trackingUpdates:[{status:"Order Placed",message:"Your order has been placed successfully",timestamp:new Date().toISOString()}]};h(e=>[...e,s]),n([]),v(!1),alert("Order placed successfully! You can track your order in the Track Order section."),e.push("/")};return 0===t.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Shopping Cart - Vrukshavalli"})}),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(m.Z,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,s.jsx)(x.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-6"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"Discover our beautiful plants and start your gardening journey."}),(0,s.jsxs)(c(),{href:"/products",className:"btn-primary",children:[(0,s.jsx)(u,{className:"mr-2 h-5 w-5"}),"Continue Shopping"]})]})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Shopping Cart - Vrukshavalli"})}),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(m.Z,{}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center mb-8",children:[(0,s.jsx)(c(),{href:"/products",className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)(u,{className:"h-6 w-6 text-gray-600"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl card-shadow overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Cart Items (",t.reduce((e,r)=>e+r.quantity,0),")"]})}),(0,s.jsx)("div",{className:"divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("div",{className:"p-6 flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(0,s.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.category}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-primary-600 mt-1",children:["â‚¹",e.price.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("button",{onClick:()=>S(e.id,e.quantity-1),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,s.jsx)(p,{className:"h-4 w-4 text-gray-600"})}),(0,s.jsx)("span",{className:"w-8 text-center font-medium",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>S(e.id,e.quantity+1),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,s.jsx)(y.Z,{className:"h-4 w-4 text-gray-600"})})]}),(0,s.jsxs)("div",{className:"text-lg font-semibold text-gray-900 w-20 text-right",children:["â‚¹",(e.price*e.quantity).toLocaleString()]}),(0,s.jsx)("button",{onClick:()=>M(e.id),className:"p-2 text-red-500 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(g.Z,{className:"h-5 w-5"})})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl card-shadow p-6 mt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Promo Code"}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("input",{type:"text",value:k,onChange:e=>w(e.target.value),placeholder:"Enter promo code",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),(0,s.jsx)("button",{onClick:()=>{let e={PLANT10:10,WELCOME15:15,SAVE20:20};e[k.toUpperCase()]?(Z(e[k.toUpperCase()]),alert("Promo code applied! ".concat(e[k.toUpperCase()],"% discount"))):alert("Invalid promo code")},className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Apply"})]}),(0,s.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:"Try: PLANT10, WELCOME15, SAVE20"})]})]}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl card-shadow p-6 sticky top-24",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Order Summary"}),(0,s.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,s.jsxs)("span",{className:"font-medium",children:["â‚¹",O.toLocaleString()]})]}),C>0&&(0,s.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,s.jsxs)("span",{children:["Discount (",C,"%)"]}),(0,s.jsxs)("span",{children:["-â‚¹",P.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Delivery"}),(0,s.jsx)("span",{className:"font-medium",children:0===L?"Free":"â‚¹".concat(L)})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 pt-4",children:(0,s.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{className:"text-primary-600",children:["â‚¹",D.toLocaleString()]})]})})]}),O<500&&(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:["Add â‚¹",(500-O).toLocaleString()," more for free delivery!"]})}),(0,s.jsxs)("button",{onClick:V,disabled:b,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[b?(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):(0,s.jsx)(j,{className:"mr-2 h-5 w-5"}),b?"Processing...":"Place Order (COD)"]}),!r&&(0,s.jsxs)("p",{className:"text-sm text-gray-500 text-center mt-4",children:[(0,s.jsx)(c(),{href:"/auth",className:"text-primary-600 hover:underline",children:"Sign in"})," ","to continue with checkout"]}),(0,s.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),(0,s.jsx)("span",{children:"Secure"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(N.Z,{className:"h-4 w-4 mr-1"}),(0,s.jsx)("span",{children:"Fast Delivery"})]})]})})]})})]})]})]})]})}},6259:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(6360).Z)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},1315:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(6360).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2778:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(6360).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]])},5212:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(6360).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},3556:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(6360).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6681:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(6360).Z)("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])}},function(e){e.O(0,[167,888,774,179],function(){return e(e.s=2443)}),_N_E=e.O()}]);